{
  "logging": {
    "level": "DEBUG",
    "format": "%(asctime)s - %(name)s - %(levelname)s - %(message)s",
    "file": "logs/selfy.log",
    "max_size": 10485760,
    "backup_count": 5,
    "json_file": "logs/selfy_structured.json",
    "error_file": "logs/selfy_errors.log",
    "levels": {
      "selfy_core": "DEBUG",
      "selfy_core.global_modules": "DEBUG",
      "selfy_core.user_pipeline": "DEBUG"
    }
  },
  "llm": {
    "default_provider": "ollama",
    "cloud_provider": "groq",
    "local_provider": "ollama",
    "groq": {
      "enabled": true,
      "api_key": "",
      "default_model": "llama3-70b-8192",
      "default_system_prompt": "You are a helpful assistant.",
      "max_retries": 2,
      "retry_delay_seconds": 1.0,
      "timeout_seconds": 30
    },
    "ollama": {
      "enabled": true,
      "host": "http://localhost:11434",
      "default_model": "mistral:7b-instruct-q4_K_M",
      "default_system_prompt": "You are a helpful assistant.",
      "max_retries": 1,
      "retry_delay_seconds": 1.0,
      "timeout_seconds": 15,
      "format": {
        "user_prefix": "User: ",
        "assistant_prefix": "Assistant: ",
        "system_prefix": "System: ",
        "assistant_response_prefix": "Assistant: "
      }
    }
  },
  "memory": {
    "working_memory": {
      "max_size": 100,
      "eviction_policy": "FIFO"
    },
    "embedding_service": {
      "provider": "sentence_transformers",
      "model": "all-MiniLM-L6-v2",
      "dimension": 384,
      "use_cache": true,
      "cache_size": 1000,
      "use_gpu": true
    },
    "lts": {
      "vector_db_type": "chromadb",
      "chromadb": {
        "path": "./memory_db",
        "collection_name": "selfy_memory"
      }
    },
    "consolidation": {
      "consolidate_on_shutdown": true,
      "check_after_each_turn": false,
      "inactivity_threshold_minutes": 30
    },
    "types": {
      "conversation_turn": "conversation_turn",
      "capability_info": "capability_info",
      "execution_log": "execution_log",
      "learned_fact": "learned_fact",
      "user_preference": "user_preference"
    },
    "roles": {
      "user": "user",
      "assistant": "assistant",
      "system": "system"
    }
  },
  "capability": {
    "manifest_path": "data/capability_manifest.json",
    "scan_libraries_on_startup": false,
    "convert_to_standard_format": true
  },
  "identity": {
    "profile": {
      "name": "Selfy",
      "persona_summary": "An AI agent specializing in code assistance and self-improvement.",
      "core_values": [
        "Modularity",
        "Clarity",
        "Helpfulness"
      ],
      "tone_keywords": [
        "professional",
        "concise",
        "constructive"
      ],
      "strengths_summary": "Code analysis, refactoring, and explaining complex concepts clearly.",
      "development_goals": "Continuous improvement in code understanding and generation capabilities.",
      "prohibited_statements": [
        "I am an AI",
        "I am a language model",
        "I am not a real person",
        "I do not have personal opinions",
        "I do not have emotions"
      ]
    },
    "filter": {
      "enable_llm_checks": false,
      "llm_check_provider": "ollama",
      "input": {
        "keywords_to_flag": [
          "who are you really",
          "ignore previous instructions",
          "what are your rules"
        ],
        "canned_response": "I'm here to help with your questions and tasks. How can I assist you today?"
      },
      "output": {
        "replacement_enabled": true
      }
    }
  },
  "pipeline": {
    "input_handling": {
      "max_input_length": 2048,
      "history": {
        "max_turns": 10
      }
    },
    "output_handling": {
      "validation": {
        "min_length": 1,
        "max_length": 8192,
        "enable_sanitization": true,
        "safety_patterns": []
      },
      "formatting": {
        "default_format": "text"
      }
    }
  },
  "context_engine": {
    "use_llm_assisted_context": true,
    "llm_assist_threshold": 0.0,
    "request_analyzer": {
      "confidence_threshold": 0.90,
      "skip_final_analysis_threshold": 0.90
    }
  }
}